var helper=function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=1)}([function(e,n,t){"use strict";function r(){$(".sidebar").prepend("<div class='backspace'>\n            <i class='backspaceIcon'></i>\n            <div class='folderName'>Вернуться назад</div>\n        </div>")}function i(e,n){var t=document.getElementById(e).innerHTML;for(var r in n)if(n.hasOwnProperty(r)){var i=new RegExp("{"+r+"}","g");t=t.replace(i,n[r])}return t}function l(e,n){n||(n=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function o(e){$.getJSON(e,function(e){c=new a($.parseJSON(e.child_folders),$.parseJSON(e.child_files),$.parseJSON(e.folder));var n=$(".sidebar__content"),t=$(".content");n.empty(),t.empty();for(var l in c.childFolders){var o=i("template-folders",{name:c.childFolders[l].fields.name,id:c.childFolders[l].pk});n.append(o)}for(var s in c.childFiles){var d=i("files",{name:c.childFiles[s].fields.name,link:"http://127.0.0.1:8000/media/"+c.childFiles[s].fields.file,date:c.childFiles[s].fields.date_creation});t.append(d)}null===c.parentFolderID?$(".backspace").css("display","none"):$(".backspace").length?$(".backspace").css("display","flex"):r(),history.pushState(null,null,"?folder='"+c.self.pk+"'")})}var a=t(2),c=void 0;e.exports={currentFolder:function(){return c},init:function(){var e=l("folder"),n=l("file");if(null===e){var t="http://127.0.0.1:8000/api/get-root";$.getJSON(t,function(e){c=new a(null,$.parseJSON(e.child_files),$.parseJSON(e.folder)),t="http://127.0.0.1:8000/api/get-folder/"+c.self.pk,r()}),o(t)}else null===n&&o("http://127.0.0.1:8000/api/get-folder/"+e.substr(1,e.length-2))},render:o}},function(e,n,t){"use strict";e.exports=function(){var e=t(0),n=t(3);$(document).ready(function(){e.init(),n.init()})}()},function(e,n,t){"use strict";e.exports=function(e,n,t){this.parentFolderID=t[0].fields.parent_folder,this.childFolders=e,this.childFiles=n,this.self=t[0]}},function(e,n,t){"use strict";var r=t(0).render,i=t(0).currentFolder;e.exports={init:function(){$(".sidebar").on("click",".folder",function(e){var n=e.currentTarget,t=$(n)[0].dataset.id;r("http://127.0.0.1:8000/api/get-folder/"+t)}),$(".sidebar").on("click",".backspace",function(){r("http://127.0.0.1:8000/api/get-folder/"+i().parentFolderID)}),$(".appendFolder").on("click",function(){var e=prompt("Укажите название папки");$.get({url:"http://127.0.0.1:8000/api/append-folder/",data:{name:e,parent_folder:i().self.pk},success:function(){r("http://127.0.0.1:8000/api/get-folder/"+i().self.pk)}})})}}}]);